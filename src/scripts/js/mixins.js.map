{"version":3,"sources":["js/mixins.js"],"names":[],"mappings":"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","file":"js/mixins.js","sourcesContent":["'use strict';\n\nvar mixins = {\n  addMenuOption: function addMenuOption(text, callback, className, fontOption, group) {\n    this.makeMenuText = makeMenuText;\n    // use the className argument, or fallback to menuConfig, but\n    // if menuConfig isn't set, just use \"default\"\n    className || (className = this.menuConfig.className || 'default');\n    var verticalSpacing = this.menuConfig.verticalSpacing || 80;\n    console.log(\"verticalSpacing = \", verticalSpacing);\n\n    // set the x coordinate to game.world.center if we use \"center\"\n    // otherwise set it to menuConfig.startX\n    var x = this.menuConfig.startX === \"center\" ? game.world.centerX : this.menuConfig.startX;\n\n    // set Y coordinate based on menuconfig\n    var y = this.menuConfig.startY;\n\n    // set navigation style\n    var _style;\n    if (fontOption == \"fa_style\") {\n      _style = fa_style;\n      var re = /[^\\u0000-\\u0080]+/g;\n      array1 = text.split(re); // array of Words\n      // a1 =  array1.join(\" \").trim().split(\" \")\n      // array1 = array1.join(\" \").trim().split(\" \")\n      array2 = text.match(re); // array of unicodes\n      array3 = array2 != null ? utils.interleaveArrays(array1, array2) : array1;\n\n      var array4 = []; // will contain phaser txt object\n      var w = 0;\n\n      // assign the right style to each type of word\n      for (var word in array3) {\n        _style = array1.indexOf(array3[word]) > -1 ? style : fa_style;\n        var txt = game.add.text(x + w, this.optionCount * verticalSpacing + y, array3[word], _style.navitem[className]);\n        array4.push(txt);\n        w += txt.width + 10;\n        // console.log(w ,array3[word], a1, a1.indexOf(array3[word]) > -1 ?  true: false)\n        this.makeMenuText(txt, callback, className, _style);\n        if (group) {\n          group.add(txt);\n        }\n      }\n\n      for (var idx in array4) {\n        // centering bug fix... reposition the text element\n        if (x == game.world.centerX) {\n          console.log(array4[idx].w, x, w / 2, array4[idx].w);\n          array4[idx].x = x - w / 2 + array4[idx].width * (idx == 0 ? 0 : 1);\n        }\n      }\n    } else {\n      _style = style;\n      var txt = game.add.text(x, this.optionCount * verticalSpacing + y, text, _style.navitem[className]);\n\n      this.makeMenuText(txt, callback, className, _style);\n\n      if (group) {\n        group.add(txt);\n      }\n    }\n    // create\n    // use the anchor method to center if startX set to center.\n\n    this.optionCount++;\n  },\n  adjustBottom: function adjustBottom(margin, x, sprite) {\n    /*\n      if x = 0 => align bottom left\n      if x = game.width => align bottom right\n      note: sprite can also be a group.\n     */\n    \"undefined\" == typeof margin && (margin = 0);\n    var b = sprite.width / 2 + margin,\n        c = sprite.height / 2 + margin;\n\n    if (sprite.name == \"group\") {\n      var gp = sprite;\n      // reset x to 0\n      gp.x = 0;\n      // p\n      gp.x -= gp.getLocalBounds().x, gp.x += x != 0 ? x >= game.width ? game.width - margin : x : margin;\n      // reset position to 0\n      gp.y = 0;\n      // place it back to the top\n      gp.y = gp.y - gp.getLocalBounds().y;\n      // now alight to the bottom\n      gp.y = gp.y + game.height - gp.height - margin;\n      // sprite.y +=sprite.game.height-c\n    } else {\n      sprite.x = x != 0 ? x - b : b;\n      sprite.y = sprite.game.height - c;\n    }\n  }\n};\n\nfunction makeMenuText(txt, callback, className, _style) {\n  txt.anchor.setTo(this.menuConfig.startX === \"center\" ? 0.5 : 0.0);\n  txt.inputEnabled = true;\n\n  txt.events.onInputUp.add(callback);\n  txt.events.onInputOver.add(function (target) {\n    target.setStyle(_style.navitem.hover);\n  });\n  txt.events.onInputOut.add(function (target) {\n    target.setStyle(_style.navitem[className]);\n  });\n}\n//# sourceMappingURL=mixins.js.map\n//# sourceMappingURL=mixins.js.map\n//# sourceMappingURL=mixins.js.map\n//# sourceMappingURL=mixins.js.map\n"],"sourceRoot":"/source/"}